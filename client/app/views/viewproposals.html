<div class="container">

    <div class="row">
        <div class="span6">
            <div class="panel panel-info ">
                <div class="panel-heading">
                    <h3>Available Proposals </h3>
                </div>
                <div class="panel-content">
                    <p>This section shows a list of bus companies that are offering a service
                        from <strong>{{user.town}}, {{user.postcode}}</strong> to <strong>{{school.name}}</strong></p>

                    <div ng-switch on="numProposals">
                        <div ng-switch-when="0">
                            <h3>Sorry there are no routes available.</h3>
                        </div>
                        <div ng-switch-default>
                            <div class="proposal-list">
                                <table class="table table-striped table-hover">
                                    <thead>
                                    <tr>
                                        <th>Bus Company</th>
                                        <th>Cost per month</th>
                                        <th>Available / Total seats</th>
                                        <th></th>
                                    </tr>
                                    </thead>
                                    <tr ng-repeat="proposal in proposals" ng-class="selected">
                                        <td>{{proposal.buscompany}}</td>
                                        <td>£{{proposal.priceday}}</td>
                                        <td>{{proposal.freeseats}} / {{proposal.bussize}}</td>
                                        <td>
                                            <button type="button" class="btn btn-small btn-info"
                                                    ng-click="viewProposal(proposal._id)">
                                                More Info
                                            </button>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                            <!-- Proposal-list -->
                        </div>
                        <!-- ng-switch-default -->
                    </div>
                    <!-- ng-switch -->
                </div>
                <!-- panel content -->
            </div>
            <!-- panel -->
        </div>
        <!-- span6 -->

        <div class="span6">
            <div class="panel panel-info ">
                <div class="panel-heading">
                </div>
                <div class="panel-content" ng-switch on="selection">
                    <div ng-switch-when="1">
                        <h3>Proposal Details</h3>
                        <button class="close" ng-click="closeProposal()">&times;</button>
                        <h4>{{company.name}}</h4>
                        <p>Phone: {{company.phone}}</p>

                        <img ng-src="{{selectedProposal.busimageurl}}" />

                        <p>{{company.description}}</p>

                        <p>Bus size: {{selectedProposal.bussize}} seats</p>

                        <p>Number of available seats: {{selectedProposal.freeseats}}</p>
                        <!-- TODO - Maybe add in the progress indicator in Bootstrap here??? -->

                        <p>Price / month: £{{selectedProposal.priceday}}</p>
                        <button class="btn btn-small btn-info"
                                ng-click="selectProposal(school._id, user._id, selectedProposal._id)">Select This Proposal
                        </button>
                    </div>
                    <div ng-switch-default>
                        <h3>Proposal Details</h3>

                        <p>Select a proposal to view details</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



